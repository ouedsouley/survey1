{"ast":null,"code":"import _asyncToGenerator from \"D:/ionic/survey-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\nimport { Preferences } from '@capacitor/preferences';\nimport * as i0 from \"@angular/core\";\nclass PhotoService {\n  constructor() {\n    this.photos = [];\n    this.PHOTO_STORAGE = 'photos';\n  }\n  addNewToGallery() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      // Take a photo\n      const capturedPhoto = yield Camera.getPhoto({\n        resultType: CameraResultType.Uri,\n        source: CameraSource.Camera,\n        quality: 100\n      });\n      _this.photos.unshift({\n        filepath: \"soon...\",\n        webviewPath: capturedPhoto.webPath\n      });\n      const savedImageFile = yield _this.savePicture(capturedPhoto);\n      _this.photos.unshift(savedImageFile);\n      Preferences.set({\n        key: _this.PHOTO_STORAGE,\n        value: JSON.stringify(_this.photos)\n      });\n    })();\n  }\n}\nPhotoService.ɵfac = function PhotoService_Factory(t) {\n  return new (t || PhotoService)();\n};\nPhotoService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: PhotoService,\n  factory: PhotoService.ɵfac,\n  providedIn: 'root'\n});\nexport { PhotoService };","map":{"version":3,"names":["Camera","CameraResultType","CameraSource","Preferences","PhotoService","constructor","photos","PHOTO_STORAGE","addNewToGallery","_this","_asyncToGenerator","capturedPhoto","getPhoto","resultType","Uri","source","quality","unshift","filepath","webviewPath","webPath","savedImageFile","savePicture","set","key","value","JSON","stringify","factory","ɵfac","providedIn"],"sources":["D:\\ionic\\survey-app\\src\\app\\services\\photo.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Camera, CameraResultType, CameraSource, Photo} from '@capacitor/camera';\nimport { Preferences } from '@capacitor/preferences';\n\n\n\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class PhotoService {\n  public photos: UserPhoto[] = [];\n  private PHOTO_STORAGE: string = 'photos';\n  savePicture: any;\n\n  constructor() { }\n\n  public async addNewToGallery() {\n    // Take a photo\n    const capturedPhoto = await Camera.getPhoto({\n      resultType: CameraResultType.Uri,\n      source: CameraSource.Camera,\n      quality: 100\n    });\n    \n\n    this.photos.unshift({\n      filepath: \"soon...\",\n      webviewPath: capturedPhoto.webPath!\n    });\n    const savedImageFile = await this.savePicture(capturedPhoto);\n    this.photos.unshift(savedImageFile);\n    \n    Preferences.set({\n      key: this.PHOTO_STORAGE,\n      value: JSON.stringify(this.photos),\n    });\n    \n  }\n  \n  \n \n}\n\n\nexport interface UserPhoto {\n  filepath: string;\n  webviewPath?: string;\n}\n\n\n\n"],"mappings":";AACA,SAASA,MAAM,EAAEC,gBAAgB,EAAEC,YAAY,QAAc,mBAAmB;AAChF,SAASC,WAAW,QAAQ,wBAAwB;;AAOpD,MAIaC,YAAY;EAKvBC,YAAA;IAJO,KAAAC,MAAM,GAAgB,EAAE;IACvB,KAAAC,aAAa,GAAW,QAAQ;EAGxB;EAEHC,eAAeA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MAC1B;MACA,MAAMC,aAAa,SAASX,MAAM,CAACY,QAAQ,CAAC;QAC1CC,UAAU,EAAEZ,gBAAgB,CAACa,GAAG;QAChCC,MAAM,EAAEb,YAAY,CAACF,MAAM;QAC3BgB,OAAO,EAAE;OACV,CAAC;MAGFP,KAAI,CAACH,MAAM,CAACW,OAAO,CAAC;QAClBC,QAAQ,EAAE,SAAS;QACnBC,WAAW,EAAER,aAAa,CAACS;OAC5B,CAAC;MACF,MAAMC,cAAc,SAASZ,KAAI,CAACa,WAAW,CAACX,aAAa,CAAC;MAC5DF,KAAI,CAACH,MAAM,CAACW,OAAO,CAACI,cAAc,CAAC;MAEnClB,WAAW,CAACoB,GAAG,CAAC;QACdC,GAAG,EAAEf,KAAI,CAACF,aAAa;QACvBkB,KAAK,EAAEC,IAAI,CAACC,SAAS,CAAClB,KAAI,CAACH,MAAM;OAClC,CAAC;IAAC;EAEL;;AA5BWF,YAAY,C;mBAAZA,YAAY;AAAA;AAAZA,YAAY,C;SAAZA,YAAY;EAAAwB,OAAA,EAAZxB,YAAY,CAAAyB,IAAA;EAAAC,UAAA,EAHX;AAAM;SAGP1B,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}