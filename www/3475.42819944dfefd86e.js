"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3475],{5961:(V,F,u)=>{u.d(F,{GW:()=>Z,dk:()=>g,oK:()=>d});var d=function(m){return m.Prompt="PROMPT",m.Camera="CAMERA",m.Photos="PHOTOS",m}(d||{}),Z=function(m){return m.Rear="REAR",m.Front="FRONT",m}(Z||{}),g=function(m){return m.Uri="uri",m.Base64="base64",m.DataUrl="dataUrl",m}(g||{})},2726:(V,F,u)=>{u.d(F,{Sd:()=>re,Uw:()=>D,dV:()=>j,fo:()=>I,xz:()=>c});var d=u(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var U=function(n){return n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",n}(U||{});class c extends Error{constructor(e,t,o){super(e),this.message=e,this.code=t,this.data=o}}const Y=n=>{var e,t,o,a,r;const f=n.CapacitorCustomPlatform||null,i=n.Capacitor||{},b=i.Plugins=i.Plugins||{},h=n.CapacitorPlatforms,M=(null===(e=null==h?void 0:h.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==f?f.name:(n=>{var e,t;return null!=n&&n.androidBridge?"android":null!==(t=null===(e=null==n?void 0:n.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(n)),ce=(null===(t=null==h?void 0:h.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==M()),ue=(null===(o=null==h?void 0:h.currentPlatform)||void 0===o?void 0:o.isPluginAvailable)||(P=>{const p=q.get(P);return!!(null!=p&&p.platforms.has(M())||oe(P))}),oe=(null===(a=null==h?void 0:h.currentPlatform)||void 0===a?void 0:a.getPluginHeader)||(P=>{var p;return null===(p=i.PluginHeaders)||void 0===p?void 0:p.find(B=>B.name===P)}),q=new Map,Pe=(null===(r=null==h?void 0:h.currentPlatform)||void 0===r?void 0:r.registerPlugin)||((P,p={})=>{const B=q.get(P);if(B)return console.warn(`Capacitor plugin "${P}" already registered. Cannot register plugins twice.`),B.proxy;const k=M(),G=oe(P);let $;const ve=function(){var y=(0,d.Z)(function*(){return!$&&k in p?$=$="function"==typeof p[k]?yield p[k]():p[k]:null!==f&&!$&&"web"in p&&($=$="function"==typeof p.web?yield p.web():p.web),$});return function(){return y.apply(this,arguments)}}(),_=y=>{let C;const A=(...x)=>{const R=ve().then(E=>{const W=((y,C)=>{var A,x;if(!G){if(y)return null===(x=y[C])||void 0===x?void 0:x.bind(y);throw new c(`"${P}" plugin is not implemented on ${k}`,U.Unimplemented)}{const R=null==G?void 0:G.methods.find(E=>C===E.name);if(R)return"promise"===R.rtype?E=>i.nativePromise(P,C.toString(),E):(E,W)=>i.nativeCallback(P,C.toString(),E,W);if(y)return null===(A=y[C])||void 0===A?void 0:A.bind(y)}})(E,y);if(W){const N=W(...x);return C=null==N?void 0:N.remove,N}throw new c(`"${P}.${y}()" is not implemented on ${k}`,U.Unimplemented)});return"addListener"===y&&(R.remove=(0,d.Z)(function*(){return C()})),R};return A.toString=()=>`${y.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:y,writable:!1,configurable:!1}),A},ie=_("addListener"),se=_("removeListener"),be=(y,C)=>{const A=ie({eventName:y},C),x=function(){var E=(0,d.Z)(function*(){const W=yield A;se({eventName:y,callbackId:W},C)});return function(){return E.apply(this,arguments)}}(),R=new Promise(E=>A.then(()=>E({remove:x})));return R.remove=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield x()}),R},ee=new Proxy({},{get(y,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return G?be:ie;case"removeListener":return se;default:return _(C)}}});return b[P]=ee,q.set(P,{name:P,proxy:ee,platforms:new Set([...Object.keys(p),...G?[k]:[]])}),ee});return i.convertFileSrc||(i.convertFileSrc=P=>P),i.getPlatform=M,i.handleError=P=>n.console.error(P),i.isNativePlatform=ce,i.isPluginAvailable=ue,i.pluginMethodNoop=(P,p,B)=>Promise.reject(`${B} does not have an implementation of "${p}".`),i.registerPlugin=Pe,i.Exception=c,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i.platform=i.getPlatform(),i.isNative=i.isNativePlatform(),i},j=(n=>n.Capacitor=Y(n))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),I=j.registerPlugin;class D{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var o=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const f=function(){var b=(0,d.Z)(function*(){return o.removeListener(e,t)});return function(){return b.apply(this,arguments)}}(),i=Promise.resolve({remove:f});return Object.defineProperty(i,"remove",{value:(b=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield f()}),function(){return b.apply(this,arguments)})}),i;var b}removeAllListeners(){var e=this;return(0,d.Z)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t){const o=this.listeners[e];o&&o.forEach(a=>a(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:o=>{this.notifyListeners(t,o)}}}unimplemented(e="not implemented"){return new j.Exception(e,U.Unimplemented)}unavailable(e="not available"){return new j.Exception(e,U.Unavailable)}removeListener(e,t){var o=this;return(0,d.Z)(function*(){const a=o.listeners[e];if(!a)return;const r=a.indexOf(t);o.listeners[e].splice(r,1),o.listeners[e].length||o.removeWindowListener(o.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const s=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),L=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class l extends D{getCookies(){return(0,d.Z)(function*(){const e=document.cookie,t={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[a,r]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=L(a).trim(),r=L(r).trim(),t[a]=r}),t})()}setCookie(e){return(0,d.Z)(function*(){try{const t=s(e.key),o=s(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),f=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${o||""}${a}; path=${r}; ${f};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,d.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,d.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,d.Z)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}I("CapacitorCookies",{web:()=>new l});const O=function(){var n=(0,d.Z)(function*(e){return new Promise((t,o)=>{const a=new FileReader;a.onload=()=>{const r=a.result;t(r.indexOf(",")>=0?r.split(",")[1]:r)},a.onerror=r=>o(r),a.readAsDataURL(e)})});return function(t){return n.apply(this,arguments)}}(),re=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),a=((n={})=>{const e=Object.keys(n);return Object.keys(n).map(a=>a.toLocaleLowerCase()).reduce((a,r,f)=>(a[r]=n[e[f]],a),{})})(n.headers)["content-type"]||"";if("string"==typeof n.data)t.body=n.data;else if(a.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[f,i]of Object.entries(n.data||{}))r.set(f,i);t.body=r.toString()}else if(a.includes("multipart/form-data")){const r=new FormData;if(n.data instanceof FormData)n.data.forEach((i,b)=>{r.append(b,i)});else for(const i of Object.keys(n.data))r.append(i,n.data[i]);t.body=r;const f=new Headers(t.headers);f.delete("content-type"),t.headers=f}else(a.includes("application/json")||"object"==typeof n.data)&&(t.body=JSON.stringify(n.data));return t};class le extends D{request(e){return(0,d.Z)(function*(){const t=re(e,e.webFetchExtra),o=((n,e=!0)=>n?Object.entries(n).reduce((o,a)=>{const[r,f]=a;let i,b;return Array.isArray(f)?(b="",f.forEach(h=>{i=e?encodeURIComponent(h):h,b+=`${r}=${i}&`}),b.slice(0,-1)):(i=e?encodeURIComponent(f):f,b=`${r}=${i}`),`${o}&${b}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=o?`${e.url}?${o}`:e.url,r=yield fetch(a,t),f=r.headers.get("content-type")||"";let b,h,{responseType:i="text"}=r.ok?e:{};switch(f.includes("application/json")&&(i="json"),i){case"arraybuffer":case"blob":h=yield r.blob(),b=yield O(h);break;case"json":b=yield r.json();break;default:b=yield r.text()}const K={};return r.headers.forEach((M,X)=>{K[X]=M}),{data:b,headers:K,status:r.status,url:r.url}})()}get(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}I("CapacitorHttp",{web:()=>new le})},5346:(V,F,u)=>{u.d(F,{ez:()=>Z,tP:()=>d});var d=function(v){return v.Documents="DOCUMENTS",v.Data="DATA",v.Library="LIBRARY",v.Cache="CACHE",v.External="EXTERNAL",v.ExternalStorage="EXTERNAL_STORAGE",v}(d||{}),Z=function(v){return v.UTF8="utf8",v.ASCII="ascii",v.UTF16="utf16",v}(Z||{})},3475:(V,F,u)=>{u.r(F),u.d(F,{PicturePageModule:()=>ne});var d=u(6814),Z=u(95),g=u(5548),m=u(4248),v=u(5861),H=u(2726),z=u(5346);const U=(0,H.fo)("Filesystem",{web:()=>u.e(4522).then(u.bind(u,4522)).then(s=>new s.FilesystemWeb)});var c=u(6689),J=u(5961);const Y=(0,H.fo)("Camera",{web:()=>u.e(6468).then(u.bind(u,6468)).then(s=>new s.CameraWeb)}),Q=(0,H.fo)("Preferences",{web:()=>u.e(899).then(u.bind(u,899)).then(s=>new s.PreferencesWeb)});let j=(()=>{class s{constructor(l){this.photos=[],this.PHOTO_STORAGE="photos",this.platform=l}addNewToGallery(){var l=this;return(0,v.Z)(function*(){const w=yield Y.getPhoto({resultType:J.dk.Uri,source:J.oK.Camera,quality:100});l.photos.unshift({filepath:"soon...",webviewPath:w.webPath});const O=yield l.savePicture(w);l.photos.unshift(O),Q.set({key:l.PHOTO_STORAGE,value:JSON.stringify(l.photos)})})()}loadSaved(){var l=this;return(0,v.Z)(function*(){const{value:w}=yield Q.get({key:l.PHOTO_STORAGE});if(l.photos=w?JSON.parse(w):[],!l.platform.is("hybrid"))for(let O of l.photos){const T=yield U.readFile({path:O.filepath,directory:z.tP.Data});O.webviewPath=`data:image/jpeg;base64,${T.data}`}})()}}return s.\u0275fac=function(l){return new(l||s)(c.LFG(g.t4))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function I(s,L){if(1&s&&(c.TgZ(0,"ion-col",8),c._UZ(1,"ion-img",9),c.qZA()),2&s){const l=L.$implicit;c.xp6(1),c.Q6J("src",l.webviewPath)}}const te=[{path:"",component:(()=>{class s{constructor(l){this.photoService=l,this.photo=void 0,this.convertBlobToBase64=w=>new Promise((O,T)=>{const S=new FileReader;S.onerror=T,S.onload=()=>{O(S.result)},S.readAsDataURL(w)})}addPhotoToGallery(){this.photoService.addNewToGallery()}savePicture(l){var w=this;return(0,v.Z)(function*(){const O=yield w.readAsBase64(l),T=Date.now()+".jpeg",S=yield U.writeFile({path:T,data:O,directory:z.tP.Data});return w.platform.is("hybrid")?{filepath:S.uri,webviewPath:H.dV.convertFileSrc(S.uri)}:{filepath:T,webviewPath:l.webPath}})()}readAsBase64(l){var w=this;return(0,v.Z)(function*(){if(w.platform.is("hybrid"))return(yield U.readFile({path:l.path})).data;{const T=yield(yield fetch(l.webPath)).blob();return yield w.convertBlobToBase64(T)}})()}ngOnInit(){var l=this;return(0,v.Z)(function*(){yield l.photoService.loadSaved()})()}}return s.\u0275fac=function(l){return new(l||s)(c.Y36(j))},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-picture"]],decls:14,vars:3,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],[1,"ion-padding"],["vertical","bottom","horizontal","center","slot","fixed"],[3,"click"],["name","camera"],["size","6",4,"ngFor","ngForOf"],["size","6"],[3,"src"]],template:function(l,w){1&l&&(c.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),c._UZ(3,"ion-menu-button"),c.qZA(),c.TgZ(4,"ion-title"),c._uU(5,"Take a picture"),c.qZA()()(),c.TgZ(6,"ion-content",2)(7,"div",3)(8,"ion-fab",4)(9,"ion-fab-button",5),c.NdJ("click",function(){return w.addPhotoToGallery()}),c._UZ(10,"ion-icon",6),c.qZA()()(),c.TgZ(11,"ion-grid")(12,"ion-row"),c.YNc(13,I,2,1,"ion-col",7),c.qZA()()()),2&l&&(c.Q6J("translucent",!0),c.xp6(6),c.Q6J("fullscreen",!0),c.xp6(7),c.Q6J("ngForOf",w.photoService.photos))},dependencies:[d.sg,g.Sm,g.wI,g.W2,g.IJ,g.W4,g.jY,g.Gu,g.gu,g.Xz,g.fG,g.Nd,g.wd,g.sr]}),s})()}];let D=(()=>{class s{}return s.\u0275fac=function(l){return new(l||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[m.Bz.forChild(te),m.Bz]}),s})(),ne=(()=>{class s{}return s.\u0275fac=function(l){return new(l||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[d.ez,Z.u5,g.Pc,D]}),s})()}}]);