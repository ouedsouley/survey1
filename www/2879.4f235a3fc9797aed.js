"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2879],{2879:(x,g,a)=>{a.r(g),a.d(g,{FormPageModule:()=>T});var u=a(6814),c=a(95),o=a(5548),d=a(4248),e=a(6689),v=a(5861),m=a(2014);let p=(()=>{class n{constructor(t){this.storage=t,this._storage=null,this.init()}init(){var t=this;return(0,v.Z)(function*(){const r=yield t.storage.create();t._storage=r})()}set(t,r){var i;null===(i=this._storage)||void 0===i||i.set(t,r)}get(t){var r;return null===(r=this._storage)||void 0===r?void 0:r.get(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(m.K))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h=(()=>{class n{constructor(t){this.storage=t,this.surveys=[],this.init()}init(){var t;null===(t=this.storage.get("surveys"))||void 0===t||t.then(r=>{this.surveys=r})}saveSurvey(t){this.surveys.push(t),this.storage.set("surveys",this.surveys)}surveysList(){return Promise.resolve(this.surveys)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _(n,s){if(1&n&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-card-subtitle"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-card-content"),e._uU(7),e.qZA()()),2&n){const t=s.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(t.birthday),e.xp6(2),e.hij(" ",t.description," ")}}function y(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,_,8,3,"ion-card",9),e.TgZ(2,"ion-infinite-scroll"),e._UZ(3,"ion-infinite-scroll-content",10),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.surveysList)}}function f(n,s){1&n&&(e.TgZ(0,"div",11)(1,"h3"),e._uU(2,"No surveys !"),e.qZA(),e._uU(3," you not have registered survey. you can use the floating button below to add some. "),e.qZA())}function Z(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Fill the form below"),e.qZA()()(),e.TgZ(4,"ion-content",12)(5,"ion-item")(6,"ion-label",13),e._uU(7,"Enter a name"),e.qZA(),e.TgZ(8,"ion-input",14),e.NdJ("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.surveyBeingCreated.name=i)}),e.qZA()(),e.TgZ(9,"ion-item")(10,"ion-label",13),e._uU(11,"Enter a birthday"),e.qZA(),e.TgZ(12,"ion-input",15),e.NdJ("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.surveyBeingCreated.birthday=i)}),e.qZA()(),e.TgZ(13,"ion-item")(14,"ion-label",13),e._uU(15,"Enter a description"),e.qZA(),e.TgZ(16,"ion-textarea",16),e.NdJ("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.surveyBeingCreated.description=i)}),e.qZA()()(),e.TgZ(17,"ion-footer")(18,"ion-toolbar")(19,"ion-buttons",1)(20,"ion-button",6),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e._uU(21,"Cancel"),e.qZA()(),e.TgZ(22,"ion-buttons",17)(23,"ion-button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e._uU(24,"Save"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.surveyBeingCreated.name),e.xp6(4),e.Q6J("ngModel",t.surveyBeingCreated.birthday),e.xp6(4),e.Q6J("ngModel",t.surveyBeingCreated.description),e.xp6(7),e.Q6J("strong",!0)}}const F=[{path:"",component:(()=>{class n{constructor(t){this.surveysService=t,this.surveysList=[],this.surveyBeingCreated={name:"",birthday:"",description:""},this.isModalOpen=!1}ngOnInit(){this.loadSurveys()}loadSurveys(){this.surveysService.surveysList().then(t=>{this.surveysList=t})}showSurveyForm(){this.surveyBeingCreated={name:"",birthday:"",description:""},this.isModalOpen=!0}cancel(){this.isModalOpen=!1}save(){this.surveysService.saveSurvey(this.surveyBeingCreated),this.loadSurveys(),this.isModalOpen=!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-form"]],decls:15,vars:5,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],[4,"ngIf","ngIfElse"],["elseBlock",""],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","add"],[3,"isOpen"],[4,"ngFor","ngForOf"],["loadingText","plase wait...","loadingSpinner","bubbles"],[1,"ion-text-center"],[1,"ion-padding"],["position","stacked"],["type","text","placeholder","The  name",3,"ngModel","ngModelChange"],["type","date","placeholder","The  date",3,"ngModel","ngModelChange"],["placeholder","The  description",3,"ngModel","ngModelChange"],["slot","end"],[3,"strong","click"]],template:function(t,r){if(1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"survey forms"),e.qZA()()(),e.TgZ(6,"ion-content",2),e.YNc(7,y,4,1,"div",3),e.YNc(8,f,4,0,"ng-template",null,4,e.W1O),e.TgZ(10,"ion-fab",5)(11,"ion-fab-button",6),e.NdJ("click",function(){return r.showSurveyForm()}),e._UZ(12,"ion-icon",7),e.qZA()(),e.TgZ(13,"ion-modal",8),e.YNc(14,Z,25,4,"ng-template"),e.qZA()()),2&t){const i=e.MAs(9);e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("ngIf",0!==r.surveysList.length)("ngIfElse",i),e.xp6(6),e.Q6J("isOpen",r.isModalOpen)}},dependencies:[u.sg,u.O5,c.JJ,c.On,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.tO,o.Dq,o.W2,o.IJ,o.W4,o.fr,o.Gu,o.gu,o.ju,o.MB,o.pK,o.Ie,o.Q$,o.fG,o.g2,o.wd,o.sr,o.ki,o.j9],styles:["ion-modal[_ngcontent-%COMP%]:ion-content   ion-item[_ngcontent-%COMP%]{margin-top:15px}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(F),d.Bz]}),n})(),T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,c.u5,o.Pc,M]}),n})()}}]);